(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"/7QA":function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return I})),a.d(t,"a",(function(){return K}));var n=a("/r+8"),c=a("vCPc"),l=a("1QO0"),i=a.n(l),s=a("vPwb"),r=a("EUDQ"),o={version:"2.0",key:"49fb5e8e7af05eff3f445cc6694c9250"},A={dark:"amap://styles/e7348f7e5a857d4212ad3aa897ed1c7d",grid:"amap://styles/satellite",white:"amap://styles/f3b80d42e6912ceca373400f8351c0d1"},d="data:image/png;base64,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",u=(a("Q1a8"),a("6/xX"),a("Vhn3")),m=a("KAPl"),g=a("ozBP"),E=e=>{var t=e.className,a=e.defaultStatus,n=e.onStatusChange,c=e.style,o=Object(r["i"])(),E=o.map,v=Object(l["useState"])(!!a),C=Object(u["a"])(v,2),f=C[0],y=C[1],B=Object(l["useState"])(null),p=Object(u["a"])(B,2),O=p[0],h=p[1],b=Object(l["useState"])(null),I=Object(u["a"])(b,2),w=I[0],j=I[1],Q=Object(l["useContext"])(g["ConfigContext"]),x=Q.getPrefixCls,L=x("map-theme");Object(l["useEffect"])((()=>{try{AMap.plugin(["AMap.TileLayer"],(()=>{var e=new window.AMap.TileLayer.Satellite,t=new window.AMap.TileLayer.Flexible({cacheSize:30,opacity:.9,createTile:function(e,t,a,n,c){var l=document.createElement("img");l.onload=function(){n(l)},l.crossOrigin="anonymous",l.onerror=function(){c()},l.src=d}});j(t),h(e)}))}catch(e){console.log(e)}}),[]);var k=e=>{e.stopPropagation(),e.preventDefault(),f?(E.setMapStyle(A.white),w&&E.remove([O,w]),y(!1),null===n||void 0===n||n(!1)):(E.setMapStyle(A.grid),w&&E.add([O,w]),y(!0),null===n||void 0===n||n(!0))};return i.a.createElement("span",{onClick:k,className:Object(s["a"])(t,"".concat(L,"-operator"),{["".concat(L,"-operator")]:!0,["".concat(L,"-active")]:f}),style:c},i.a.createElement(m["a"],{type:"icon-map-theme-grid"}),"\u5b9e\u666f")},v=(a("Ck3C"),a("kOyy")),C=(a("ujwr"),a("cu8Q")),f=a("ULjY"),y=a("vLoq"),B=e=>{var t=Object(l["useRef"])(),a=Object(r["i"])(),n=a.map,c=e.prefixCls,s=e.onChange,o=Object(l["useState"])([]),A=Object(u["a"])(o,2),d=A[0],m=A[1],g=(e,t)=>{var a=t.location;a&&(null===n||void 0===n||n.setCenter([a.lng,a.lat]),null===n||void 0===n||n.setZoom(15),null===s||void 0===s||s({longitude:a.lng,latitude:a.lat}))},E=e=>{t.current&&t.current.search(e,((e,t)=>{if("complete"===e){var a=t.tips.filter((e=>e.id)).map(B);m(a)}}))},B=e=>Object(f["a"])(Object(f["a"])({},e),{},{value:e.name,key:Object(y["uniqueId"])("address_"),label:i.a.createElement("div",null,e.name,i.a.createElement("span",{style:{paddingLeft:4,color:"rgba(0, 0, 0, 0.45)"}},e.district))});return i.a.createElement("span",{className:c},i.a.createElement(r["a"],{events:{created:e=>{t.current=e}}}),i.a.createElement(v["a"],{onSelect:g,onSearch:E,style:{width:224},options:d},i.a.createElement(C["a"].Search,{size:"small",placeholder:"\u8bf7\u8f93\u5165\u5730\u5740"})))};B.defaultProps={prefixCls:"sen-map-search-address"};var p=e=>{var t=e.prefixCls,a=e.className,l=e.style,d=e.children,u=(e.theme,Object(c["a"])(e,["prefixCls","className","style","children","theme"]));return i.a.createElement("div",{className:Object(s["a"])(a,{["".concat(t)]:!0}),style:l},i.a.createElement(r["c"],Object(n["a"])({mapKey:o.key,version:o.version,mapStyle:A.white},u),d))};p.defaultProps={prefixCls:"sen-map"};var O=a("oTnR"),h=a("WBJ6"),b=e=>{var t=e.prefixCLs,a=e.position,n=Object(r["i"])(),c=n.map,l=()=>{null===c||void 0===c||c.zoomIn()},o=()=>{null===c||void 0===c||c.zoomOut()},A=()=>{null!==a&&void 0!==a&&a[0]&&(null===c||void 0===c||c.setCenter(a))};return i.a.createElement("div",{className:t},i.a.createElement("div",{className:Object(s["a"])("".concat(t,"-geo"),"".concat(t,"-item")),onClick:A},i.a.createElement(m["a"],{type:"icon-aim"})),i.a.createElement("div",{className:"".concat(t,"-zooms")},i.a.createElement("div",{className:"".concat(t,"-item"),onClick:l},i.a.createElement(O["a"],null)),i.a.createElement("div",{className:"".concat(t,"-item"),onClick:o},i.a.createElement(h["a"],null))))};b.defaultProps={prefixCLs:"sen-map-position-tools"};a("zcdX");var I=e=>{var t,a=e.style,o=e.className,A=e.value,d=e.zoom,v=void 0===d?16:d,C=e.onChange,y=e.isReadOnly,O=e.icon,h=e.marker,I=e.disabledFitView,w=void 0!==I&&I,j=e.children,Q=Object(c["a"])(e,["style","className","value","zoom","onChange","isReadOnly","icon","marker","disabledFitView","children"]),x=Object(l["useRef"])(!1),L=A||{},k=L.lnglat,N=void 0===k?[]:k,T=Object(l["useState"])(),F=Object(u["a"])(T,2),M=F[0],S=F[1],R=Object(l["useRef"])(),P=Object(l["useState"])(),J=Object(u["a"])(P,2),Y=J[0],D=J[1],U=Object(l["useContext"])(g["ConfigContext"]),G=U.getPrefixCls;Object(l["useEffect"])((()=>{N[0]&&N[1]&&D(N),w||!x.current&&N[0]&&S(N)}),[A]);var H=G("position"),X=O||i.a.createElement(m["a"],{className:"".concat(H,"-marker-icon"),type:"icon-position"}),_=e=>{y||R.current&&R.current.getAddress(e,((t,a)=>{var n="";"complete"===t&&a.regeocode&&(n=a.regeocode.formattedAddress);var c=e.toArray();z({lnglat:e.toArray(),location:n}),D(c),null===C||void 0===C||C({lnglat:c,location:n})}))},z=e=>{x.current=!0,D(e.lnglat),null===C||void 0===C||C(e)};return i.a.createElement(p,Object(n["a"])({className:Object(s["a"])(o,{["".concat(H)]:!0}),style:a,zoom:v,center:M},Q,{events:Object(f["a"])(Object(f["a"])({},null!==(t=null===Q||void 0===Q?void 0:Q.events)&&void 0!==t?t:{}),{},{click:e=>{var t=e.lnglat;t&&_(t)}})}),!y&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B,null),i.a.createElement(r["b"],{events:{created:e=>{R.current=e}}}),i.a.createElement(b,{position:null===A||void 0===A?void 0:A.lnglat})),i.a.createElement(E,{className:"".concat(H,"-theme")}),i.a.createElement(r["e"],Object(n["a"])({position:Y,render:()=>X},h)),j)};I.defaultProps={isReadOnly:!1};a("Ya5G");var w=a("R+YU"),j=(a("AbJt"),a("KWCa")),Q=(a("BNPX"),a("E5qG")),x=(a("c+qi"),a("KDwD")),L=(a("kdI8"),a("XuRf")),k=a("3k9W"),N=L["a"].Paragraph,T=e=>{var t=e.devices,a=void 0===t?[]:t,n=e.onRemove,c=Object(l["useContext"])(g["ConfigContext"]),s=c.getPrefixCls,r=s("device-selection-card"),o=(e,t)=>"GB"!==e.type&&"SENSORO"!==e.type||t!==e.key?null:i.a.createElement(k["a"],{className:"".concat(r,"-extra-icon "),onClick:()=>{null===n||void 0===n||n(e.key)}});return i.a.createElement(x["a"],{treeData:a,blockNode:!0,renderMenu:o})},F=e=>{var t=e.devices,a=void 0===t?[]:t,n=e.onRemove,c=Object(l["useContext"])(g["ConfigContext"]),r=c.getPrefixCls,o=r("device-selection-card");return i.a.createElement("div",null,a.map(((e,t)=>{var a,c;return i.a.createElement("div",{key:e.key||t,className:Object(s["a"])("".concat(o,"-item"),{["".concat(o,"-item-offline")]:1!==e.status})},i.a.createElement(N,{ellipsis:!0,style:{width:200}},i.a.createElement(m["a"],{type:(null===e||void 0===e||null===(a=e.titleIcon)||void 0===a?void 0:a.type)||"icon-camera",style:null===e||void 0===e||null===(c=e.titleIcon)||void 0===c?void 0:c.style}),i.a.createElement("span",null,e.title)),i.a.createElement("div",{className:"".concat(o,"-item-extra"),onClick:()=>{null===n||void 0===n||n(e.key)}},i.a.createElement(k["a"],null)))})))},M=e=>{var t=e.useGB,a=e.devices,n=void 0===a?[]:a,c=e.onRemove,s=e.onReset,r=Object(l["useContext"])(g["ConfigContext"]),o=r.getPrefixCls,A=o("device-selection-card"),d=()=>{null===s||void 0===s||s()},u=e=>{null===c||void 0===c||c(e)};return i.a.createElement("div",{className:A},i.a.createElement("div",{className:"".concat(A,"-header")},i.a.createElement("div",{className:"".concat(A,"-header-content")},i.a.createElement("div",{className:"".concat(A,"-device-number")},n.length," \u53f0"),i.a.createElement("div",{style:{marginLeft:8}},"\u5df2\u9009\u62e9\u8bbe\u5907"),i.a.createElement("div",{className:"".concat(A,"-extra")},i.a.createElement(Q["a"],{size:"small",disabled:!n.length,onClick:d},"\u6e05\u7a7a")))),i.a.createElement("div",{className:"".concat(A,"-body")},t&&n.length>0&&i.a.createElement(T,{devices:n,onRemove:u}),!t&&n.length>0&&i.a.createElement(F,{devices:n,onRemove:u}),0===n.length&&i.a.createElement(j["a"],{icon:"device",description:"\u6682\u65e0\u8bbe\u5907",style:{marginTop:"82px"}})))},S=[{type:"circle",label:"\u5706\u5f62",icon:"icon-round-selection"},{type:"rectangle",label:"\u77e9\u5f62",icon:"icon-square-selection"},{type:"polygon",label:"\u591a\u8fb9\u5f62",icon:"icon-polygon-selected"}],R=e=>{var t=e.themeStatus,a=e.operationType,n=e.onDrawTypeChange,c=e.onThemeStatusChange,r=Object(l["useContext"])(g["ConfigContext"]),o=r.getPrefixCls,A=o("device-selection-operation");return i.a.createElement("div",{className:Object(s["a"])("".concat(A))},i.a.createElement(E,{defaultStatus:t,style:{marginRight:8},className:Object(s["a"])("".concat(A,"-item"),{["".concat(A,"-active")]:t}),onStatusChange:c}),S.map((e=>i.a.createElement("span",{key:e.type,className:Object(s["a"])("".concat(A,"-item"),{["".concat(A,"-active")]:a===e.type}),onClick:()=>{null===n||void 0===n||n(e.type)}},i.a.createElement(m["a"],{type:e.icon}),e.label))))},P=a("C0+r"),J=e=>{var t,a=e.info,n=Object(l["useContext"])(g["ConfigContext"]),c=n.getPrefixCls,r=c("device-selection-marker");return i.a.createElement("div",{className:Object(s["a"])(r,{["".concat(r,"-offline")]:1!==a.status})},i.a.createElement(m["a"],{type:(null===a||void 0===a||null===(t=a.titleIcon)||void 0===t?void 0:t.type)||"icon-camera"}),a.selected&&i.a.createElement("div",{className:"".concat(r,"-selected")},i.a.createElement(P["a"],null)))},Y=e=>{var t=e.themeStatus,a=e.onSelectDeviceClick,n=e.onThemeStatusChange,c=Object(l["useContext"])(g["ConfigContext"]),r=c.getPrefixCls,o=r("device-selection-operation");return i.a.createElement("div",{className:Object(s["a"])("".concat(o),"".concat(o,"-mini"))},i.a.createElement(E,{defaultStatus:t,className:Object(s["a"])("".concat(o,"-item"),{["".concat(o,"-active")]:t}),onStatusChange:n}),i.a.createElement("span",{className:"".concat(o,"-item"),onClick:a},i.a.createElement(O["a"],null),"\u9009\u62e9\u8bbe\u5907"))},D=e=>{var t=e.showList,a=void 0===t?[]:t,n=e.onGeoClick,c=Object(l["useContext"])(g["ConfigContext"]),o=c.getPrefixCls,A=Object(r["i"])(),d=A.map,u=o("device-selection-tools"),E=()=>{null===d||void 0===d||d.zoomIn()},v=()=>{null===d||void 0===d||d.zoomOut()};return i.a.createElement("div",{className:u},a.includes("center")&&i.a.createElement("div",{className:Object(s["a"])("".concat(u,"-geo"),"".concat(u,"-item")),onClick:n},i.a.createElement(m["a"],{type:"icon-aim"})),a.includes("center")&&i.a.createElement("div",{className:"".concat(u,"-zooms")},i.a.createElement("div",{className:"".concat(u,"-item"),onClick:E},i.a.createElement(O["a"],null)),i.a.createElement("div",{className:"".concat(u,"-item"),onClick:v},i.a.createElement(h["a"],null))))};D.defaultProps={showList:["center","zooms"]};var U,G=e=>{var t=e.prefixCls,a=e.badge,n=e.count;return a?i.a.createElement("div",{className:"".concat(t,"-markers")},i.a.createElement("span",{className:"ant-badge ant-badge-not-a-wrapper"},i.a.createElement("sup",{className:"ant-badge-count"},a)),n):i.a.createElement("div",{className:"".concat(t,"-markers")},n)};(function(e){e[e["FACE_GRABBER"]=1]="FACE_GRABBER",e[e["FACE_RECOGNITION"]=2]="FACE_RECOGNITION",e[e["FULL_TARGET_CAMERA"]=3]="FULL_TARGET_CAMERA",e[e["VEHICLE_GRABBER"]=4]="VEHICLE_GRABBER",e[e["FULL_RECOGNITION"]=5]="FULL_RECOGNITION",e[e["COMMON_NETWORK"]=6]="COMMON_NETWORK",e[e["FIRE_SAFETY_CAMERA"]=7]="FIRE_SAFETY_CAMERA"})(U||(U={}));var H={[U["FACE_GRABBER"]]:"icon-face_grabber",[U["FACE_RECOGNITION"]]:"icon-camera",[U["FULL_TARGET_CAMERA"]]:"icon-full_target_camera",[U["VEHICLE_GRABBER"]]:"icon-camera",[U["FULL_RECOGNITION"]]:"icon-camera",[U["COMMON_NETWORK"]]:"icon-camera",[U["FIRE_SAFETY_CAMERA"]]:"icon-fire_safety_camera"};function X(e){var t=e.channels,a=void 0===t?[]:t,n=e.streams,l=e.status,i=Object(c["a"])(e,["channels","streams","status"]),s=a.map(((e,t)=>{var a=n[t];return{channel:"".concat(i.id,"_").concat(e.channel),name:e.name,gbId:(null===a||void 0===a?void 0:a.gbId)||i.gbId,channelSerial:null===a||void 0===a?void 0:a.channelSerial,isLive:null===a||void 0===a?void 0:a.isLive,flvUrl:null===a||void 0===a?void 0:a.flvUrl,m3u8Url:null===a||void 0===a?void 0:a.m3u8Url}})),r="online"===l?1:0;return{sn:"",key:i.id,title:i.name,type:"GB",position:{longitude:i.lng,latitude:i.lat},lnglat:[i.lng,i.lat],titleIcon:{type:"dstipc"===(null===i||void 0===i?void 0:i.type)?"icon-dstipc":"icon-camera",style:{color:r?"#2B6DE5":"#00000040"}},status:r,deviceUsageType:U.COMMON_NETWORK,selected:!1,children:s.map((e=>Object(f["a"])(Object(f["a"])({},e),{},{key:e.channel,title:e.name,flvUrl:e.flvUrl,m3u8Url:e.m3u8Url||e.flvUrl,status:r,playable:!0})))}}function _(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cid",n=e.cid,l=(e.channels,Object(c["a"])(e,["cid","channels"]));return{sn:l.sn,key:null!==(t=e[a])&&void 0!==t?t:n,title:l.name,type:"SENSORO",position:{longitude:l.lng,latitude:l.lat},lnglat:[l.lng,l.lat],titleIcon:{type:H[l.deviceUsageType]||"icon-camera",style:{color:l.status?"#2B6DE5":"#00000040"}},status:l.status,deviceUsageType:l.deviceUsageType,selected:!1,children:[],flvUrl:l.flvUrl,m3u8Url:l.m3u8Url,playable:!0}}var z=e=>{var t=e.prefixCls,a=e.readonly,n=e.deviceKey,c=e.transformData,s=e.list,o=void 0===s?[]:s,A=e.listGB,d=void 0===A?[]:A,m=e.value,g=e.themeStatus,E=e.setThemeStatus,v=e.onChange,C=e.onSelectDeviceClick,y=Object(r["i"])(),B=y.map,p=Object(l["useRef"])(null),O=Object(l["useRef"])([]),h=Object(l["useRef"])(null),b=Object(l["useRef"])(null),I=Object(l["useState"])(!1),j=Object(u["a"])(I,2),Q=j[0],x=j[1],L=Object(l["useState"])(),k=Object(u["a"])(L,2),N=k[0],T=k[1],F=Object(l["useState"])([]),S=Object(u["a"])(F,2),P=S[0],U=S[1],H=Object(l["useState"])([]),z=Object(u["a"])(H,2),V=z[0],K=z[1],q=Object(l["useCallback"])((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];K(e),null===v||void 0===v||v(e)}),[K]);Object(l["useEffect"])((()=>{x(!(null===d||void 0===d||!d.length)),K([]),ne();var e,t,a,l=[];c?l=[...null===(e=o||[])||void 0===e?void 0:e.map((e=>_(e,n))),...null===(t=d||[])||void 0===t||null===(a=t.map)||void 0===a?void 0:a.call(t,X)]:l=[...o,...d];O.current=l.map((e=>new AMap.Marker({position:[e.position.longitude,e.position.latitude]}))),B&&B.setFitView(O.current),U(l.filter((e=>e.lnglat&&e.lnglat[0]&&e.key)))}),[JSON.stringify(o),JSON.stringify(d)]),Object(l["useEffect"])((()=>{K(Array.isArray(m)?m:[]),U((e=>null===e||void 0===e?void 0:e.map((e=>(null!==m&&void 0!==m&&m.includes(e.key)?e.selected=!0:e.selected=!1,e)))))}),[m]);var W={created:e=>{h.current=e},draw(e){var t=e.obj;Z(t)}},Z=e=>{b.current=e,ee();var t=!1,a=P.map((a=>{var n=!1;return e.contains(new window.AMap.LngLat(a.position.longitude,a.position.latitude))&&(n=!0,t=!0),V.includes(a.key)&&(n=!0),Object(f["a"])(Object(f["a"])({},a),{},{selected:n})}));U(a),q(a.filter((e=>e.selected)).map((e=>e.key))),t||(w["b"].warning("\u672a\u6846\u9009\u5230\u4efb\u4f55\u8bbe\u5907"),T(void 0),ne())},$=e=>{var t=h.current;T(e),t&&e&&(ne(),"circle"===e&&t.circle(),"rectangle"===e&&t.rectangle(),"polygon"===e&&t.polygon())},ee=()=>{var e=h.current;e&&e.close()},te=()=>{U(P.map((e=>Object(f["a"])(Object(f["a"])({},e),{},{selected:!1})))),ne(),q([])},ae=e=>{if(e){var t=P.map((t=>t.key===e?Object(f["a"])(Object(f["a"])({},t),{},{selected:!1}):t)),a=t.filter((e=>e.selected));a.length||ne(),U(t),q(a.map((e=>e.key)))}},ne=()=>{B&&b.current&&(B.remove([b.current]),T(void 0))},ce=e=>{E(e)},le=Object(l["useMemo"])((()=>0==P.length?null:i.a.createElement(r["f"],{data:P.map((e=>Object(f["a"])({},e))),render:e=>i.a.createElement(J,{info:e}),renderCluster:e=>{var a=e.count,n=e.list,c=void 0===n?[]:n,l=c.filter((e=>null===e||void 0===e?void 0:e.selected));return l.length?i.a.createElement(G,{prefixCls:t,badge:l.length,count:a}):i.a.createElement(G,{prefixCls:t,count:a})},events:{created:e=>{p.current=e}}})),[JSON.stringify(P)]);return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(Y,{themeStatus:g,onThemeStatusChange:ce,onSelectDeviceClick:C}),!a&&i.a.createElement(R,{themeStatus:g,operationType:N,onDrawTypeChange:$,onThemeStatusChange:ce}),i.a.createElement(D,{showList:P.length?["center","zooms"]:["zooms"],onGeoClick:()=>{B&&O.current&&B.setFitView(O.current)}}),!a&&i.a.createElement(M,{useGB:Q,devices:P.filter((e=>e.selected)),onReset:te,onRemove:ae}),i.a.createElement(r["g"],{events:W}),le)};z.defaultProps={readonly:!1,deviceKey:"cid",transformData:!0},z.displayName="SenMapDeviceSelection";var V=z,K=(a("B++1"),a("Q5w3"),e=>{var t=e.className,a=e.style,r=Object(c["a"])(e,["className","style"]),o=Object(l["useState"])(!1),A=Object(u["a"])(o,2),d=A[0],m=A[1],E=Object(l["useContext"])(g["ConfigContext"]),v=E.getPrefixCls,C=v("device-selection");return i.a.createElement(p,{className:Object(s["a"])(t,{["".concat(C)]:!0}),style:a,features:d?[]:["bg","point","road"]},i.a.createElement(V,Object(n["a"])({},r,{prefixCls:C,themeStatus:d,setThemeStatus:m})))})},"0ygQ":function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("/7QA"),i=a("a5QH");t["default"]=()=>c.a.createElement(l["a"],{style:{height:500},deviceKey:"sn",list:i["b"],onChange:e=>{console.log(e)}})},"6/xX":function(e,t,a){},Afjp:function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("KAPl"),i=a("/7QA");t["default"]=()=>c.a.createElement(i["c"],{style:{width:550,height:300},value:{lnglat:[116.905163,40.006047],location:""},icon:c.a.createElement(l["a"],{type:"icon-car-outlined",style:{fontSize:24,color:"red"}})})},"B++1":function(e,t,a){},E9zn:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("1QO0"),c=Object(n["createContext"])({getPrefixCls:(e,t)=>t||(e?"sen-map-".concat(e):"sen-map")});c.Consumer},GEGJ:function(e,t,a){"use strict";a.r(t);a("BHxJ");var n=a("0EL+"),c=(a("BNPX"),a("E5qG")),l=(a("go6/"),a("51VT")),i=(a("V/Kb"),a("KCVu")),s=a("Vhn3"),r=a("1QO0"),o=a.n(r),A=a("/7QA");t["default"]=()=>{var e=i["a"].useForm(),t=Object(s["a"])(e,1),a=t[0],r=()=>{a.validateFields().then((e=>{console.log(e)}))},d=()=>{a.resetFields()},u=()=>{a.setFieldsValue({position:{lnglat:[116.905163,40.006047],location:"\u6cb3\u5317\u7701\u5eca\u574a\u5e02\u4e09\u6cb3\u5e02\u9ad8\u697c\u9547\u4e09\u6cb3\u798f\u6210\u917f\u9152\u6709\u9650\u516c\u53f8"}})};return o.a.createElement("div",null,o.a.createElement(i["a"],{layout:"vertical",form:a},o.a.createElement(i["a"].Item,{label:"\u4f4d\u7f6e\u4fe1\u606f",name:"position",rules:[{required:!0,message:"\u4f4d\u7f6e\u4fe1\u606f\u4e0d\u80fd\u4e3a\u7a7a"}]},o.a.createElement(A["c"],{style:{width:550,height:300}}))),o.a.createElement(l["a"],null),o.a.createElement(n["b"],null,o.a.createElement(c["a"],{onClick:r},"\u63d0\u4ea4\u8868\u5355"),o.a.createElement(c["a"],{onClick:d},"\u91cd\u7f6e\u8868\u5355"),o.a.createElement(c["a"],{onClick:u},"\u8bbe\u7f6e\u521d\u59cb\u503c")))}},GdKx:function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("/7QA");t["default"]=()=>c.a.createElement(l["c"],{style:{width:550,height:300}})},HZQE:function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("KAPl"),i=a("/7QA");t["default"]=()=>c.a.createElement(i["c"],{style:{width:550,height:300},value:{lnglat:[116.905163,40.006047],location:""},marker:{render:()=>c.a.createElement(l["a"],{type:"icon-car-outlined",style:{fontSize:24,color:"red"}})}})},MFu9:function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("/7QA"),i=a("a5QH");t["default"]=()=>c.a.createElement(l["a"],{style:{height:500},list:i["b"],listGB:i["a"]})},Q1a8:function(e,t,a){},SqX7:function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("/7QA");t["default"]=()=>c.a.createElement(l["c"],{style:{width:550,height:300},value:{lnglat:[116.905163,40.006047],location:""},isReadOnly:!0})},a4Lp:function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("EUDQ"),i=a("/7QA");t["default"]=()=>c.a.createElement(i["c"],{style:{width:550,height:300},center:[116.905163,40.006047],zoom:15,disabledFitView:!0},c.a.createElement(l["d"],null))},a5QH:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var n=[{address:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u671b\u4eac\u671b\u82b1\u8def",cid:"03a23361-096d-4479-adeb-d861ca5fe7d2",deviceUsageType:1,id:228,lat:39.989461,lng:116.47072,name:"007\u7b52\u673a\u70ed\u7535\u5806",sn:"0606060606060007",status:0},{address:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u671b\u4eac\u8857\u9053\u5e7f\u987a\u5357\u5927\u885710\u53f7\u5229\u661f\u884c\u4e2d\u5fc3",cid:"5178375b-a768-4301-aed2-597f72e5ac8e",deviceUsageType:1,id:10,lat:39.991044,lng:116.476456,name:"112\u5c48\u65b0\u950b\u8ddf\u8e2a\u95ee\u9898\u52ff\u52a8",networkType:0,orientations:4,sn:"0505050505050112",status:0},{address:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9152\u4ed9\u6865\u8857\u9053S12\u673a\u573a\u9ad8\u901f\u9644\u8fd1",cid:"9b99ef7b-93cc-44a2-8203-10fa7c0fa789",deviceUsageType:1,id:162,lat:39.986558,lng:116.486651,name:"19acW\u798f\u5229\u4f7f\u7528\u4f4d\u7f6e\u5728\u652f\u67b6\u4e0a",sn:"03C80017C73E19AC",status:1,streamStatus:0},{address:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u6e56\u8857\u9053\u671b\u4eac\u5317\u8def\u671b\u4eac\u5317\u8def1\u53f7\u9644\u8fd1",cid:"42503e95-d1dd-4f11-b837-bb0a4e251ee7",deviceUsageType:1,id:221,lat:40.011885,lng:116.479554,name:"\u5b9e\u9a8c\u5ba4458",networkType:0,orientations:1,sn:"03C80017C71FE458",status:1,streamStatus:0}],c=[{address:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u6e56\u8857\u9053\u4e1c\u6e56\u6e7e\u4e1c\u6e56\u6e7e\u897f\u533a",channels:[{channel:1,name:"Camera1"}],id:"5f2a9d53c4295019ca13e282",lat:40.00503,lng:116.45843,name:"\u7075\u601d\u534a\u7403\u673a",sn:"",status:"offline",streams:[{flvUrl:"https://play-gb-test.sensoro.com:18080/gb28181/420010549.flv",isLive:!0}]},{id:"5f213fcff71804709165a6ae",address:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u6e56\u8857\u9053\u6fb3\u6d32\u5eb7\u90fd\u6fb3\u6d32\u5eb7\u90fd1\u671f",channels:[{channel:1,name:"Camera 01"}],lat:40.0139,lng:116.46175,name:"\u6d77\u5eb710.0.0.143_\u7f8e\u597d\u7684",sn:"12324535465765757\u56fd\u9632\u90e8\u98ce\u683c\u53d1\u4e2a\u7535\u996d\u9505\u7535\u996d\u9505 v \u7ffb\u6eda\u5427\u66f4\u65b9\u4fbf\u6539",status:"offline",streams:[{flvUrl:"https://play-gb-test.sensoro.com:18080/gb28181/632485411.flv",isLive:!0}]}]},dhby:function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("/7QA"),i=a("a5QH");t["default"]=()=>c.a.createElement(l["a"],{readonly:!0,style:{width:550,height:300},list:i["b"]})},nycw:function(e,t,a){"use strict";a.r(t);a("BHxJ");var n=a("0EL+"),c=(a("BNPX"),a("E5qG")),l=a("Vhn3"),i=(a("V/Kb"),a("KCVu")),s=a("1QO0"),r=a.n(s),o=a("/7QA"),A=a("a5QH"),d=i["a"].Item;t["default"]=()=>{var e=i["a"].useForm(),t=Object(l["a"])(e,1),a=t[0],s=()=>{a.resetFields()},u=()=>{a.setFieldsValue({devices:["03C80017C73E19AC"]})},m=()=>{console.log(a.getFieldValue("devices"))};return r.a.createElement(i["a"],{form:a},r.a.createElement(d,{name:"devices",initialValue:["03C80017C71FE458"]},r.a.createElement(o["a"],{style:{height:500},deviceKey:"sn",list:A["b"],onChange:e=>{console.log(e)}})),r.a.createElement(n["b"],null,r.a.createElement(c["a"],{onClick:s},"\u91cd\u7f6e"),r.a.createElement(c["a"],{onClick:u},"\u8bbe\u7f6e\u6570\u636e"),r.a.createElement(c["a"],{onClick:m},"\u83b7\u53d6\u6570\u636e")))}},ozBP:function(e,t,a){"use strict";var n=a("E9zn");a.d(t,"ConfigContext",(function(){return n["a"]}));a("pDSD")},pDSD:function(e,t){},w3Ic:function(e,t,a){"use strict";a.r(t);var n=a("1QO0"),c=a.n(n),l=a("/7QA"),i=a("EUDQ");t["default"]=()=>c.a.createElement(l["b"],{style:{height:500}},c.a.createElement(i["h"],null))},zcdX:function(e,t,a){}}]);